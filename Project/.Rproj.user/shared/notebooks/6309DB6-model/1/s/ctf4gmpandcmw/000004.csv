"0","#cp that minimize the tree"
"0","bestcp <- ct.fit$cptable[which.min(ct.fit$cptable[,""xerror""]),""CP""]"
"0","ct.prune <- prune(ct.fit, cp= bestcp) #before there was cp=0.01"
"0","summary(ct.prune)"
"1","Call:
"
"1","rpart(formula = RESPONSE ~ ., data = TrainData, method = ""class"", 
"
"1","    model = TRUE, control = rpart.control(minsplit = 4, cp = 1e-05))
"
"1","  n="
"1"," "
"1","750"
"1"," "
"1","

"
"1"," "
"1","     CP"
"1"," nsplit"
"1"," rel error"
"1"," xerror"
"1","   xstd"
"1","
1"
"1"," 0.0400"
"1","      0"
"1","     1.000"
"1","  1.000"
"1"," 0.0558"
"1","
2"
"1"," 0.0133"
"1","      5"
"1","     0.782"
"1","  0.933"
"1"," 0.0547"
"1","
"
"1","
Variable importance
"
"1","        CHK_ACCT "
"1","         HISTORY "
"1","         PURPOSE "
"1","          AMOUNT "
"1","     NUM_CREDITS "
"1","        SAV_ACCT "
"1","        DURATION "
"1","PRESENT_RESIDENT "
"1","
"
"1","              45 "
"1","              15 "
"1","               9 "
"1","               9 "
"1","               7 "
"1","               7 "
"1","               6 "
"1","               2 "
"1","
"
"1","
Node number "
"1","1"
"1",": "
"1","750"
"1"," observations"
"1",",    complexity param="
"1","0.04"
"1","
"
"1","  predicted class=1  expected loss=0.3  P(node) =1
    class counts:   225   525
   probabilities: 0.300 0.700"
"1"," "
"1","
"
"1","  left son="
"1","2"
"1"," ("
"1","408"
"1"," obs)"
"1"," right son="
"1","3"
"1"," ("
"1","342"
"1"," obs)"
"1","
"
"1","  Primary splits:
"
"1","      CHK_ACCT   splits as  LLRR,       improve=36.90, (0 missing)"
"1","
"
"1","      HISTORY    splits as  LLRRR,      improve=12.60, (0 missing)"
"1","
"
"1","      SAV_ACCT   splits as  LLRRR,      improve=10.80, (0 missing)"
"1","
"
"1","      AMOUNT     < 2.71   to the right, improve= 9.22, (0 missing)"
"1","
"
"1","      EMPLOYMENT splits as  LLRRR,      improve= 8.92, (0 missing)"
"1","
"
"1","  Surrogate splits:
"
"1","      SAV_ACCT         splits as  LLRRR,      agree=0.611, adj=0.146, (0 split)"
"1","
"
"1","      HISTORY          splits as  LLLLR,      agree=0.580, adj=0.079, (0 split)"
"1","
"
"1","      PURPOSE          splits as  LLRLRLL,    agree=0.571, adj=0.058, (0 split)"
"1","
"
"1","      PRESENT_RESIDENT splits as  LRLL,       agree=0.567, adj=0.050, (0 split)"
"1","
"
"1","      NUM_CREDITS      < 0.16   to the left,  agree=0.560, adj=0.035, (0 split)"
"1","
"
"1","
Node number "
"1","2"
"1",": "
"1","408"
"1"," observations"
"1",",    complexity param="
"1","0.04"
"1","
"
"1","  predicted class=1  expected loss=0.444  P(node) =0.544
    class counts:   181   227
   probabilities: 0.444 0.556"
"1"," "
"1","
"
"1","  left son="
"1","4"
"1"," ("
"1","269"
"1"," obs)"
"1"," right son="
"1","5"
"1"," ("
"1","139"
"1"," obs)"
"1","
"
"1","  Primary splits:
"
"1","      HISTORY  splits as  LLLRR,      improve=9.32, (0 missing)"
"1","
"
"1","      SAV_ACCT splits as  LLRRR,      improve=6.87, (0 missing)"
"1","
"
"1","      DURATION < 0.131  to the right, improve=5.97, (0 missing)"
"1","
"
"1","      PURPOSE  splits as  RLRRRLR,    improve=4.54, (0 missing)"
"1","
"
"1","      PROPERTY splits as  RRL,        improve=4.49, (0 missing)"
"1","
"
"1","  Surrogate splits:
"
"1","      NUM_CREDITS < 0.16   to the left,  agree=0.816, adj=0.460, (0 split)"
"1","
"
"1","      EMPLOYMENT  splits as  LLLLR,      agree=0.662, adj=0.007, (0 split)"
"1","
"
"1","
Node number "
"1","3"
"1",": "
"1","342"
"1"," observations"
"1","
"
"1","  predicted class=1  expected loss=0.129  P(node) =0.456
    class counts:    44   298
   probabilities: 0.129 0.871"
"1"," "
"1","
"
"1","
Node number "
"1","4"
"1",": "
"1","269"
"1"," observations"
"1",",    complexity param="
"1","0.04"
"1","
"
"1","  predicted class=0  expected loss=0.48  P(node) =0.359
    class counts:   140   129
   probabilities: 0.520 0.480"
"1"," "
"1","
"
"1","  left son="
"1","8"
"1"," ("
"1","73"
"1"," obs)"
"1"," right son="
"1","9"
"1"," ("
"1","196"
"1"," obs)"
"1","
"
"1","  Primary splits:
"
"1","      PURPOSE   splits as  RLRRRLR,    improve=5.42, (0 missing)"
"1","
"
"1","      HISTORY   splits as  LLR--,      improve=5.29, (0 missing)"
"1","
"
"1","      AMOUNT    < 1.74   to the right, improve=4.70, (0 missing)"
"1","
"
"1","      PROPERTY  splits as  RRL,        improve=4.17, (0 missing)"
"1","
"
"1","      RESIDENCE splits as  LLR,        improve=3.76, (0 missing)"
"1","
"
"1","  Surrogate splits:
"
"1","      DURATION < 2.99   to the right, agree=0.732, adj=0.014, (0 split)"
"1","
"
"1","      AMOUNT   < 3.62   to the right, agree=0.732, adj=0.014, (0 split)"
"1","
"
"1","      JOB      splits as  LRRR,       agree=0.732, adj=0.014, (0 split)"
"1","
"
"1","
Node number "
"1","5"
"1",": "
"1","139"
"1"," observations"
"1","
"
"1","  predicted class=1  expected loss=0.295  P(node) =0.185
    class counts:    41    98
   probabilities: 0.295 0.705"
"1"," "
"1","
"
"1","
Node number "
"1","8"
"1",": "
"1","73"
"1"," observations"
"1","
"
"1","  predicted class=0  expected loss=0.315  P(node) =0.0973
    class counts:    50    23
   probabilities: 0.685 0.315"
"1"," "
"1","
"
"1","
Node number "
"1","9"
"1",": "
"1","196"
"1"," observations"
"1",",    complexity param="
"1","0.04"
"1","
"
"1","  predicted class=1  expected loss=0.459  P(node) =0.261
    class counts:    90   106
   probabilities: 0.459 0.541"
"1"," "
"1","
"
"1","  left son="
"1","18"
"1"," ("
"1","15"
"1"," obs)"
"1"," right son="
"1","19"
"1"," ("
"1","181"
"1"," obs)"
"1","
"
"1","  Primary splits:
"
"1","      AMOUNT    < 1.74   to the right, improve=7.30, (0 missing)"
"1","
"
"1","      DURATION  < 1      to the right, improve=6.52, (0 missing)"
"1","
"
"1","      RESIDENCE splits as  LLR,        improve=4.75, (0 missing)"
"1","
"
"1","      HISTORY   splits as  LLR--,      improve=3.72, (0 missing)"
"1","
"
"1","      PROPERTY  splits as  RRL,        improve=3.72, (0 missing)"
"1","
"
"1","
Node number "
"1","18"
"1",": "
"1","15"
"1"," observations"
"1","
"
"1","  predicted class=0  expected loss=0.0667  P(node) =0.02
    class counts:    14     1
   probabilities: 0.933 0.067"
"1"," "
"1","
"
"1","
Node number "
"1","19"
"1",": "
"1","181"
"1"," observations"
"1",",    complexity param="
"1","0.04"
"1","
"
"1","  predicted class=1  expected loss=0.42  P(node) =0.241
    class counts:    76   105
   probabilities: 0.420 0.580"
"1"," "
"1","
"
"1","  left son="
"1","38"
"1"," ("
"1","15"
"1"," obs)"
"1"," right son="
"1","39"
"1"," ("
"1","166"
"1"," obs)"
"1","
"
"1","  Primary splits:
"
"1","      DURATION  < 1.87   to the right, improve=4.73, (0 missing)"
"1","
"
"1","      HISTORY   splits as  LLR--,      improve=3.78, (0 missing)"
"1","
"
"1","      RESIDENCE splits as  LLR,        improve=2.83, (0 missing)"
"1","
"
"1","      AMOUNT    < -0.938 to the right, improve=2.57, (0 missing)"
"1","
"
"1","      JOB       splits as  RRLR,       improve=2.15, (0 missing)"
"1","
"
"1","
Node number "
"1","38"
"1",": "
"1","15"
"1"," observations"
"1","
"
"1","  predicted class=0  expected loss=0.2  P(node) =0.02
    class counts:    12     3
   probabilities: 0.800 0.200"
"1"," "
"1","
"
"1","
Node number "
"1","39"
"1",": "
"1","166"
"1"," observations"
"1","
"
"1","  predicted class=1  expected loss=0.386  P(node) =0.221
    class counts:    64   102
   probabilities: 0.386 0.614"
"1"," "
"1","
"
"1","
"
"0","#first option of graph:"
"0","#plot(ct.prune, uniform = TRUE)"
"0","#text(ct.prune, cex = 0.4, use.n = TRUE, all = TRUE)"
"0","#second option of graph:"
"0","rpart.plot(ct.prune, extra=104, box.palette=""GnBu"","
"0","               branch.lty=3, shadow.col=""gray"", nn=TRUE)"
